<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-49043QNXM0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-49043QNXM0');
</script>
<!-- BORAWARE LOG SCRIPT. -->
<script type="text/javascript">
var protect_id = 'e249';
</script>
<script async type="text/javascript" src="//script.boraware.kr/protect_script_v2.js"></script>
<!-- END OF BORAWARE LOG SCRIPT -->
<!-- ì•„ì„ì›¹ ì„¤ì • > í—¤ë” HTMLì— ì¶”ê°€í•  ì½”ë“œ -->
<!-- ì•„ì„ì›¹ ì„¤ì • > í—¤ë” HTMLì— ì¶”ê°€í•  ì½”ë“œ -->
<style>
/* CTA ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
.cta-modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0);
    z-index: -1;
    opacity: 0;
    visibility: hidden;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

.cta-modal-overlay.show {
    background: rgba(0, 0, 0, 0.7);
    opacity: 1;
    visibility: visible;
    z-index: 99999;
}

.cta-modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.7);
    background: white;
    border-radius: 20px;
    padding: 0;
    width: 90%;
    max-width: 450px;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 25px 60px rgba(0, 0, 0, 0.3);
    opacity: 0;
    visibility: hidden;
    transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    z-index: 100000;
}

.cta-modal-overlay.show .cta-modal {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
    visibility: visible;
}

/* ë¶€ë“œëŸ¬ìš´ ì§„ì… ì• ë‹ˆë©”ì´ì…˜ */
@keyframes modalFadeIn {
    0% {
        opacity: 0;
        transform: translate(-50%, -45%) scale(0.95);
    }
    100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

.cta-modal-overlay.show .cta-modal {
    animation: modalFadeIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

/* ëª¨ë‹¬ í—¤ë” */
.cta-modal-header {
    background: linear-gradient(135deg, #2c7a2c 0%, #4caf50 100%);
    padding: 25px;
    border-radius: 20px 20px 0 0;
    position: relative;
    overflow: hidden;
}

/* í—¤ë” ë°˜ì§ì„ íš¨ê³¼ */
.cta-modal-header::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(
        45deg,
        transparent,
        rgba(255, 255, 255, 0.1),
        transparent
    );
    transform: rotate(45deg);
    animation: shimmer 3s infinite;
}

@keyframes shimmer {
    0% {
        transform: translateX(-100%) translateY(-100%) rotate(45deg);
    }
    100% {
        transform: translateX(100%) translateY(100%) rotate(45deg);
    }
}

.cta-modal-title {
    color: white;
    font-size: 24px;
    font-weight: bold;
    margin: 0;
    text-align: center;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    position: relative;
    z-index: 1;
}

.cta-modal-subtitle {
    color: rgba(255, 255, 255, 0.95);
    font-size: 14px;
    text-align: center;
    margin-top: 8px;
    position: relative;
    z-index: 1;
}

/* ë‹«ê¸° ë²„íŠ¼ */
.cta-modal-close {
    position: absolute;
    top: 15px;
    right: 15px;
    width: 32px;
    height: 32px;
    background: rgba(255, 255, 255, 0.2);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    z-index: 2;
}

.cta-modal-close:hover {
    background: rgba(255, 255, 255, 0.3);
    transform: rotate(90deg) scale(1.1);
}

.cta-modal-close::before,
.cta-modal-close::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 2px;
    background: white;
}

.cta-modal-close::before {
    transform: rotate(45deg);
}

.cta-modal-close::after {
    transform: rotate(-45deg);
}

/* ëª¨ë‹¬ ë°”ë”” */
.cta-modal-body {
    padding: 30px;
    animation: fadeInUp 0.6s ease 0.3s both;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* í˜œíƒ ì•ˆë‚´ */
.cta-benefits {
    background: linear-gradient(135deg, #f1f8e9 0%, #e8f5e9 100%);
    padding: 15px;
    border-radius: 10px;
    margin-bottom: 25px;
    border-left: 4px solid #4caf50;
    position: relative;
    overflow: hidden;
}

.cta-benefits::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background: linear-gradient(90deg, #4caf50, #81c784, #4caf50);
    background-size: 200% 100%;
    animation: gradientMove 3s ease infinite;
}

@keyframes gradientMove {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

.cta-benefit-item {
    display: flex;
    align-items: center;
    margin: 8px 0;
    color: #2e7d32;
    font-size: 14px;
    opacity: 0;
    animation: slideInLeft 0.5s ease forwards;
}

.cta-benefit-item:nth-child(1) { animation-delay: 0.4s; }
.cta-benefit-item:nth-child(2) { animation-delay: 0.5s; }
.cta-benefit-item:nth-child(3) { animation-delay: 0.6s; }

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.cta-benefit-item::before {
    content: 'âœ“';
    margin-right: 8px;
    font-weight: bold;
    color: #4caf50;
    animation: checkBounce 0.6s ease;
}

@keyframes checkBounce {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.3); }
}

/* í¼ ìŠ¤íƒ€ì¼ */
.cta-form-group {
    margin-bottom: 20px;
    opacity: 0;
    animation: fadeInUp 0.5s ease forwards;
}

.cta-form-group:nth-child(1) { animation-delay: 0.1s; }
.cta-form-group:nth-child(2) { animation-delay: 0.2s; }
.cta-form-group:nth-child(3) { animation-delay: 0.3s; }
.cta-form-group:nth-child(4) { animation-delay: 0.4s; }
.cta-form-group:nth-child(5) { animation-delay: 0.5s; }

.cta-form-group label {
    display: block;
    color: #2e7d32;
    font-weight: 600;
    margin-bottom: 8px;
    font-size: 14px;
}

.cta-form-group label .required {
    color: #f44336;
}

.cta-form-group input,
.cta-form-group select {
    width: 100%;
    padding: 12px;
    border: 2px solid #c8e6c9;
    border-radius: 8px;
    font-size: 15px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    background: white;
    box-sizing: border-box;
}

.cta-form-group input:focus,
.cta-form-group select:focus {
    border-color: #4caf50;
    outline: none;
    box-shadow: 0 0 0 4px rgba(76, 175, 80, 0.15);
    transform: translateY(-2px);
}

.cta-form-group input.error {
    border-color: #f44336;
    animation: shake 0.5s ease;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
    20%, 40%, 60%, 80% { transform: translateX(5px); }
}

.cta-error-message {
    color: #f44336;
    font-size: 12px;
    margin-top: 5px;
    display: none;
}

.cta-error-message.show {
    display: block;
    animation: slideInUp 0.3s ease;
}

@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ì¸ì› ì…ë ¥ ê·¸ë£¹ */
.cta-people-group {
    display: flex;
    gap: 10px;
    align-items: center;
}

.cta-people-group input {
    flex: 1;
}

.cta-people-group span {
    color: #666;
    font-size: 14px;
}

/* ì œì¶œ ë²„íŠ¼ */
.cta-submit-btn {
    width: 100%;
    padding: 15px;
    background: linear-gradient(135deg, #ff9800 0%, #ff6f00 100%);
    color: white;
    border: none;
    border-radius: 10px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
    position: relative;
    overflow: hidden;
}

.cta-submit-btn::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.cta-submit-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(255, 152, 0, 0.3);
}

.cta-submit-btn:hover::before {
    width: 300px;
    height: 300px;
}

.cta-submit-btn:active {
    transform: translateY(0);
}

.cta-submit-btn:disabled {
    background: linear-gradient(135deg, #bdbdbd 0%, #9e9e9e 100%);
    cursor: not-allowed;
    transform: none;
}

/* ê°œì¸ì •ë³´ ë™ì˜ */
.cta-privacy-agree {
    display: flex;
    align-items: flex-start;
    margin: 20px 0;
    font-size: 13px;
    color: #666;
    opacity: 0;
    animation: fadeIn 0.5s ease 0.6s forwards;
}

@keyframes fadeIn {
    to {
        opacity: 1;
    }
}

.cta-privacy-agree input[type="checkbox"] {
    width: 18px;
    height: 18px;
    margin-right: 8px;
    margin-top: 2px;
    cursor: pointer;
    accent-color: #4caf50;
}

.cta-privacy-agree label {
    cursor: pointer;
    line-height: 1.5;
}

/* ì„±ê³µ ë©”ì‹œì§€ */
.cta-success-message {
    display: none;
    text-align: center;
    padding: 40px;
}

.cta-success-icon {
    width: 80px;
    height: 80px;
    margin: 0 auto 20px;
    background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 40px;
    color: white;
    animation: successPop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

@keyframes successPop {
    0% {
        transform: scale(0);
        opacity: 0;
    }
    50% {
        transform: scale(1.2);
    }
    100% {
        transform: scale(1);
        opacity: 1;
    }
}

.cta-success-title {
    font-size: 24px;
    color: #2e7d32;
    margin-bottom: 10px;
    font-weight: bold;
    animation: fadeInUp 0.5s ease 0.3s both;
}

.cta-success-text {
    color: #666;
    font-size: 16px;
    line-height: 1.6;
    animation: fadeInUp 0.5s ease 0.4s both;
}

/* ëª¨ë°”ì¼ ë°˜ì‘í˜• */
@media (max-width: 767px) {
    .cta-modal {
        width: 95%;
        max-width: 100%;
        margin: 10px;
    }
    
    .cta-modal-title {
        font-size: 20px;
    }
    
    .cta-modal-body {
        padding: 20px;
    }
    
    .cta-form-group input,
    .cta-form-group select {
        font-size: 16px; /* iOS ì¤Œ ë°©ì§€ */
    }
}

/* í„ìŠ¤ íš¨ê³¼ (ì£¼ëª©ë„ í–¥ìƒ) */
@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(76, 175, 80, 0.7);
    }
    70% {
        box-shadow: 0 0 0 10px rgba(76, 175, 80, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(76, 175, 80, 0);
    }
}

.cta-modal-overlay.show .cta-modal {
    animation: modalFadeIn 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
               pulse 2s infinite 1s;
}
</style>

<!-- ëª¨ë‹¬ HTML -->
<div id="ctaModalOverlay" class="cta-modal-overlay">
    <div class="cta-modal">
        <!-- í—¤ë” -->
        <div class="cta-modal-header">
            <button class="cta-modal-close" onclick="closeCTAModal()"></button>
            <h2 class="cta-modal-title">ğŸ¯ ë¹ ë¥¸ ê²¬ì  ë¬¸ì˜</h2>
            <p class="cta-modal-subtitle">30ì´ˆ ì…ë ¥ìœ¼ë¡œ ë§ì¶¤ ê²¬ì ì„ ë°›ì•„ë³´ì„¸ìš”!</p>
        </div>
        
        <!-- ë°”ë”” -->
        <div class="cta-modal-body" id="ctaFormSection">
            <!-- í˜œíƒ ì•ˆë‚´ -->
            <div class="cta-benefits">
                <div class="cta-benefit-item">ìµœì†Œ 10ëª…ë¶€í„° ìµœëŒ€ 200ëª…ê¹Œì§€ ê°€ëŠ¥</div>
                <div class="cta-benefit-item">1ë°•2ì¼ ì›Œí¬ìƒµ & ë‹¹ì¼ ì•¼ìœ íšŒ ëª¨ë‘ ê°€ëŠ¥</div>
                <div class="cta-benefit-item">ë¹ ë¥¸ ê²¬ì  í™•ì¸ ë° ì˜ˆì•½ê¸ˆ 30% ì•ˆë‚´</div>
            </div>
            
            <!-- í¼ -->
            <form id="ctaQuickForm">
                <div class="cta-form-group">
                    <label for="ctaName">ë‹´ë‹¹ì ì„±í•¨ <span class="required">*</span></label>
                    <input type="text" id="ctaName" placeholder="í™ê¸¸ë™" required>
                    <div class="cta-error-message" id="ctaNameError">ë‹´ë‹¹ì ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
                </div>
                
                <div class="cta-form-group">
                    <label for="ctaPhone">ì—°ë½ì²˜ <span class="required">*</span></label>
                    <input type="tel" id="ctaPhone" placeholder="010-1234-5678" required>
                    <div class="cta-error-message" id="ctaPhoneError">ì˜¬ë°”ë¥¸ ì—°ë½ì²˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
                </div>
                
                <div class="cta-form-group">
                    <label for="ctaEmail">ì´ë©”ì¼ <span class="required">*</span></label>
                    <input type="email" id="ctaEmail" placeholder="example@email.com" required>
                    <div class="cta-error-message" id="ctaEmailError">ì˜¬ë°”ë¥¸ ì´ë©”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
                </div>
                
                <div class="cta-form-group">
                    <label for="ctaDate">ì´ìš© í¬ë§ì¼</label>
                    <input type="date" id="ctaDate">
                </div>
                
                <div class="cta-form-group">
                    <label for="ctaPeople">ì˜ˆìƒ ì¸ì› <span class="required">*</span></label>
                    <div class="cta-people-group">
                        <input type="number" id="ctaPeople" min="10" max="200" placeholder="10" required>
                        <span>ëª…</span>
                    </div>
                    <div class="cta-error-message" id="ctaPeopleError">10ëª… ì´ìƒ ì…ë ¥í•´ì£¼ì„¸ìš”.</div>
                </div>
                
                <div class="cta-privacy-agree">
                    <input type="checkbox" id="ctaPrivacy" required>
                    <label for="ctaPrivacy">
                        ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤.<br>
                        (ê²¬ì  ë°œì†¡ ëª©ì ìœ¼ë¡œë§Œ ì‚¬ìš©ë˜ë©° ë°œì†¡ í›„ ì¦‰ì‹œ ì‚­ì œë©ë‹ˆë‹¤)
                    </label>
                </div>
                
                <button type="submit" class="cta-submit-btn" id="ctaSubmitBtn">
                    ğŸ“® ë¹ ë¥¸ ê²¬ì  ìš”ì²­í•˜ê¸°
                </button>
            </form>
        </div>
        
        <!-- ì„±ê³µ ë©”ì‹œì§€ -->
        <div class="cta-success-message" id="ctaSuccessSection">
            <div class="cta-success-icon">âœ“</div>
            <div class="cta-success-title">ê²¬ì  ìš”ì²­ ì™„ë£Œ!</div>
            <div class="cta-success-text">
                ë¹ ë¥¸ ì‹œì¼ ë‚´ì— ì—°ë½ë“œë¦¬ê² ìŠµë‹ˆë‹¤.<br>
                ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ™
            </div>
        </div>
    </div>
</div>

<script>
// CTA ëª¨ë‹¬ ìŠ¤í¬ë¦½íŠ¸
(function() {
    let modalShown = false;
    let scrollThreshold = false;
    let timeoutId = null;
    let closeCount = 0; // ë‹«ì€ íšŸìˆ˜ ì¶”ì 
    let lastCloseTime = null; // ë§ˆì§€ë§‰ìœ¼ë¡œ ë‹«ì€ ì‹œê°„
    
    // ëª¨ë‹¬ í‘œì‹œ í•¨ìˆ˜
    function showCTAModal() {
        // ì´ë¯¸ í‘œì‹œ ì¤‘ì´ë©´ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€
        if (modalShown) return;
        
        const overlay = document.getElementById('ctaModalOverlay');
        if (overlay) {
            modalShown = true; // ë¨¼ì € ìƒíƒœ ë³€ê²½
            
            // ë¶€ë“œëŸ¬ìš´ í‘œì‹œë¥¼ ìœ„í•œ íƒ€ì„ì•„ì›ƒ
            setTimeout(function() {
                overlay.classList.add('show');
            }, 100);
            
            // ê¸°ì¡´ íƒ€ì´ë¨¸ê°€ ìˆìœ¼ë©´ ì œê±°
            if (timeoutId) {
                clearTimeout(timeoutId);
                timeoutId = null;
            }
        }
    }
    
    // ëª¨ë‹¬ ë‹«ê¸° í•¨ìˆ˜
    window.closeCTAModal = function() {
        const overlay = document.getElementById('ctaModalOverlay');
        if (overlay) {
            overlay.classList.remove('show');
            modalShown = false;
            closeCount++;
            lastCloseTime = Date.now();
            
            // ê¸°ì¡´ íƒ€ì´ë¨¸ê°€ ìˆìœ¼ë©´ ì œê±°
            if (timeoutId) {
                clearTimeout(timeoutId);
                timeoutId = null;
            }
            
            // 3ë²ˆ ì´ìƒ ë‹«ìœ¼ë©´ 24ì‹œê°„ ë™ì•ˆ í‘œì‹œ ì•ˆí•¨
            if (closeCount >= 3) {
                setCookie('cta_modal_closed', 'true', 1);
                // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ì œê±°
                window.removeEventListener('scroll', handleScroll);
            } else {
                // 15ì´ˆ í›„ ë‹¤ì‹œ í‘œì‹œ (ìµœëŒ€ 3ë²ˆê¹Œì§€)
                timeoutId = setTimeout(function() {
                    // 15ì´ˆê°€ ì§€ë‚¬ê³ , í¼ì´ ì œì¶œë˜ì§€ ì•Šì•˜ìœ¼ë©´ ë‹¤ì‹œ í‘œì‹œ
                    if (!getCookie('cta_modal_submitted') && !modalShown) {
                        showCTAModal();
                    }
                }, 15000);
            }
        }
    }
    
    // ìŠ¤í¬ë¡¤ í•¸ë“¤ëŸ¬
    function handleScroll() {
        if (modalShown || scrollThreshold) return;
        
        const scrollPercentage = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
        
        // í˜ì´ì§€ì˜ 40% ì´ìƒ ìŠ¤í¬ë¡¤ ì‹œ ëª¨ë‹¬ í‘œì‹œ
        if (scrollPercentage > 40) {
            scrollThreshold = true;
            showCTAModal();
        }
    }
    
    // ì¿ í‚¤ ì„¤ì • í•¨ìˆ˜
    function setCookie(name, value, days) {
        const expires = new Date();
        expires.setTime(expires.getTime() + (days * 24 * 60 * 60 * 1000));
        document.cookie = name + '=' + value + ';expires=' + expires.toUTCString() + ';path=/';
    }
    
    // ì¿ í‚¤ ê°€ì ¸ì˜¤ê¸° í•¨ìˆ˜
    function getCookie(name) {
        const nameEQ = name + '=';
        const ca = document.cookie.split(';');
        for(let i = 0; i < ca.length; i++) {
            let c = ca[i];
            while (c.charAt(0) == ' ') c = c.substring(1, c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
    }
    
    // í¼ ê²€ì¦ í•¨ìˆ˜
    function validateForm() {
        let isValid = true;
        
        // ì´ë¦„ ê²€ì¦
        const name = document.getElementById('ctaName');
        const nameError = document.getElementById('ctaNameError');
        if (!name.value.trim()) {
            name.classList.add('error');
            nameError.classList.add('show');
            isValid = false;
        } else {
            name.classList.remove('error');
            nameError.classList.remove('show');
        }
        
        // ì „í™”ë²ˆí˜¸ ê²€ì¦
        const phone = document.getElementById('ctaPhone');
        const phoneError = document.getElementById('ctaPhoneError');
        const phoneRegex = /^[0-9]{2,3}-?[0-9]{3,4}-?[0-9]{4}$/;
        if (!phoneRegex.test(phone.value.replace(/-/g, ''))) {
            phone.classList.add('error');
            phoneError.classList.add('show');
            isValid = false;
        } else {
            phone.classList.remove('error');
            phoneError.classList.remove('show');
        }
        
        // ì´ë©”ì¼ ê²€ì¦
        const email = document.getElementById('ctaEmail');
        const emailError = document.getElementById('ctaEmailError');
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(email.value)) {
            email.classList.add('error');
            emailError.classList.add('show');
            isValid = false;
        } else {
            email.classList.remove('error');
            emailError.classList.remove('show');
        }
        
        // ì¸ì› ê²€ì¦
        const people = document.getElementById('ctaPeople');
        const peopleError = document.getElementById('ctaPeopleError');
        if (!people.value || parseInt(people.value) < 10) {
            people.classList.add('error');
            peopleError.classList.add('show');
            isValid = false;
        } else {
            people.classList.remove('error');
            peopleError.classList.remove('show');
        }
        
        // ê°œì¸ì •ë³´ ë™ì˜ ê²€ì¦
        const privacy = document.getElementById('ctaPrivacy');
        if (!privacy.checked) {
            alert('ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•´ì£¼ì„¸ìš”.');
            isValid = false;
        }
        
        return isValid;
    }
    
    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì‹¤í–‰
    document.addEventListener('DOMContentLoaded', function() {
        // ì´ë¯¸ 3ë²ˆ ì´ìƒ ë‹«ì•˜ê±°ë‚˜, ì œì¶œ ì™„ë£Œí•œ ê²½ìš° í‘œì‹œí•˜ì§€ ì•ŠìŒ
        if (getCookie('cta_modal_closed') === 'true' || getCookie('cta_modal_submitted') === 'true') {
            return;
        }
        
        // 15ì´ˆ í›„ ëª¨ë‹¬ í‘œì‹œ
        timeoutId = setTimeout(function() {
            if (!modalShown) {
                showCTAModal();
            }
        }, 15000);
        
        // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
        window.addEventListener('scroll', handleScroll);
        
        // ì˜¤ë²„ë ˆì´ í´ë¦­ ì‹œ ë‹«ê¸°
        document.getElementById('ctaModalOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                closeCTAModal();
            }
        });
        
        // í¼ ì œì¶œ ì²˜ë¦¬
        document.getElementById('ctaQuickForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!validateForm()) {
                return;
            }
            
            const submitBtn = document.getElementById('ctaSubmitBtn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'ğŸ“® ì „ì†¡ ì¤‘...';
            
            // ë°ì´í„° ìˆ˜ì§‘
            const formData = {
                type: 'quick_inquiry',
                customerName: document.getElementById('ctaName').value.trim(),
                customerPhone: document.getElementById('ctaPhone').value.trim(),
                customerEmail: document.getElementById('ctaEmail').value.trim(),
                desiredDate: document.getElementById('ctaDate').value || 'ë¯¸ì •',
                people: document.getElementById('ctaPeople').value,
                source: 'CTA Modal',
                timestamp: new Date().toLocaleString('ko-KR', { timeZone: 'Asia/Seoul' })
            };
            
            // ìƒˆë¡œìš´ Google Apps Script URL
            const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbz2CnVRAiaqDCAdCSa7gWO9xEcbpGfgunbc6sTabfZkAc6hgQpFIW1t0wRxpWAnei06oQ/exec';
            
            // ë°ì´í„° ì „ì†¡
            fetch(SCRIPT_URL, {
                method: 'POST',
                mode: 'no-cors',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(formData)
            })
            .then(() => {
                // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
                document.getElementById('ctaFormSection').style.display = 'none';
                document.getElementById('ctaSuccessSection').style.display = 'block';
                
                // ì œì¶œ ì™„ë£Œ ì¿ í‚¤ ì„¤ì • (24ì‹œê°„)
                setCookie('cta_modal_submitted', 'true', 1);
                
                // 3ì´ˆ í›„ ëª¨ë‹¬ ë‹«ê¸°
                setTimeout(function() {
                    closeCTAModal();
                    // í¼ ì´ˆê¸°í™”
                    document.getElementById('ctaQuickForm').reset();
                    document.getElementById('ctaFormSection').style.display = 'block';
                    document.getElementById('ctaSuccessSection').style.display = 'none';
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'ğŸ“® ë¹ ë¥¸ ê²¬ì  ìš”ì²­í•˜ê¸°';
                    
                    // ì œì¶œ í›„ì—ëŠ” ë‹¤ì‹œ í‘œì‹œí•˜ì§€ ì•ŠìŒ
                    window.removeEventListener('scroll', handleScroll);
                }, 3000);
            })
            .catch(error => {
                console.error('Error:', error);
                alert('ì „ì†¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                submitBtn.disabled = false;
                submitBtn.textContent = 'ğŸ“® ë¹ ë¥¸ ê²¬ì  ìš”ì²­í•˜ê¸°';
            });
        });
        
        // ì‹¤ì‹œê°„ ì…ë ¥ ê²€ì¦
        document.getElementById('ctaName').addEventListener('input', function() {
            if (this.value.trim()) {
                this.classList.remove('error');
                document.getElementById('ctaNameError').classList.remove('show');
            }
        });
        
        document.getElementById('ctaPhone').addEventListener('input', function() {
            // ìë™ í•˜ì´í”ˆ ì¶”ê°€
            let value = this.value.replace(/[^0-9]/g, '');
            if (value.length > 3 && value.length <= 7) {
                value = value.slice(0, 3) + '-' + value.slice(3);
            } else if (value.length > 7) {
                value = value.slice(0, 3) + '-' + value.slice(3, 7) + '-' + value.slice(7, 11);
            }
            this.value = value;
            
            const phoneRegex = /^[0-9]{2,3}-?[0-9]{3,4}-?[0-9]{4}$/;
            if (phoneRegex.test(this.value.replace(/-/g, ''))) {
                this.classList.remove('error');
                document.getElementById('ctaPhoneError').classList.remove('show');
            }
        });
        
        document.getElementById('ctaEmail').addEventListener('input', function() {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (emailRegex.test(this.value)) {
                this.classList.remove('error');
                document.getElementById('ctaEmailError').classList.remove('show');
            }
        });
        
        document.getElementById('ctaPeople').addEventListener('input', function() {
            if (this.value && parseInt(this.value) >= 10) {
                this.classList.remove('error');
                document.getElementById('ctaPeopleError').classList.remove('show');
            }
        });
    });
})();
</script>
